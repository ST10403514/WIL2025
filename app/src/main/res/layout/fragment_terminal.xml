<?xml version="1.0" encoding="utf-8"?>
<ScrollView
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#FFE5B4"
    android:fillViewport="true">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="12dp">

        <!-- Super Fun Header with Character -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            android:elevation="12dp"
            app:cardBackgroundColor="#FF6B35"
            app:cardCornerRadius="25dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp"
                android:background="@drawable/modern_gradient_background">

                <!-- App Title with Fun Emoji -->
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Kinetic Pulse"
                    android:textColor="#FFFFFF"
                    android:textSize="32sp"
                    android:textStyle="bold"
                    android:gravity="center"
                    android:fontFamily="sans-serif-medium"
                    android:shadowColor="#000000"
                    android:shadowDx="2"
                    android:shadowDy="2"
                    android:shadowRadius="3"
                    android:layout_marginBottom="8dp" />

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="Move, Jump &amp; Have Fun!"
                    android:textColor="#FFFFFF"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:gravity="center"
                    android:fontFamily="sans-serif-medium"
                    android:layout_marginBottom="12dp" />

                <!-- Control Buttons - Bigger and More Playful -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:weightSum="2">

                    <Button
                        android:id="@+id/btnModeToggle"
                        android:layout_width="0dp"
                        android:layout_height="65dp"
                        android:layout_weight="1"
                        android:layout_marginEnd="6dp"
                        android:text="ðŸŽ¯ Auto Mode"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="#FFFFFF"
                        android:textAllCaps="false"
                        android:fontFamily="sans-serif-medium"
                        android:background="@drawable/modern_button_primary"
                        android:elevation="6dp" />

                    <Button
                        android:id="@+id/btnMusicPlayer"
                        android:layout_width="0dp"
                        android:layout_height="65dp"
                        android:layout_weight="1"
                        android:layout_marginStart="6dp"
                        android:text="ðŸŽµ Music"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="#FF6B35"
                        android:textAllCaps="false"
                        android:fontFamily="sans-serif-medium"
                        android:background="@drawable/modern_button_secondary"
                        android:elevation="6dp" />
                </LinearLayout>
            </LinearLayout>
        </androidx.cardview.widget.CardView>

        <!-- HUGE Animation Display with Fun Border -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="420dp"
            android:layout_marginBottom="12dp"
            android:elevation="12dp"
            app:cardBackgroundColor="#4ECDC4"
            app:cardCornerRadius="30dp">

            <FrameLayout
                android:id="@+id/movementContainer"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:padding="8dp">

                <!-- Colorful Background Pattern -->
                <View
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:background="#FFFFFF"
                    android:layout_margin="4dp" />

                <!-- Dancing Kid Placeholder/Character Area -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:orientation="vertical"
                    android:gravity="center"
                    android:padding="16dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="âœ¨ WATCH ME DANCE! âœ¨"
                        android:textColor="#FF6B35"
                        android:textSize="22sp"
                        android:textStyle="bold"
                        android:gravity="center"
                        android:fontFamily="sans-serif-medium"
                        android:shadowColor="#000000"
                        android:shadowDx="1"
                        android:shadowDy="1"
                        android:shadowRadius="2"
                        android:layout_marginTop="4dp"
                        android:layout_marginBottom="18dp" />

                    <!-- Main Video Display -->
                    <VideoView
                        android:id="@+id/vvMovementVideo"
                        android:layout_width="match_parent"
                        android:layout_height="0dp"
                        android:layout_weight="1"
                        android:visibility="gone" />

                    <!-- Placeholder Character (when no animation) -->
                    <ImageView
                        android:id="@+id/ivCharacterPlaceholder"
                        android:layout_width="match_parent"
                        android:layout_height="0dp"
                        android:layout_weight="1"
                        android:src="@drawable/character_placeholder"
                        android:scaleType="fitCenter"
                        android:gravity="center"
                        android:layout_marginTop="-20dp"
                        android:layout_marginBottom="-20dp" />

                    <!-- Status Text -->
                    <TextView
                        android:id="@+id/tvLastMovement"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="ðŸš€ Get Ready to Move! ðŸš€"
                        android:textColor="#2D3748"
                        android:textSize="20sp"
                        android:textStyle="bold"
                        android:gravity="center"
                        android:layout_marginTop="18dp"
                        android:layout_marginBottom="8dp"
                        android:fontFamily="sans-serif-medium"
                        android:shadowColor="#FFFFFF"
                        android:shadowDx="1"
                        android:shadowDy="1"
                        android:shadowRadius="2" />
                </LinearLayout>
            </FrameLayout>
        </androidx.cardview.widget.CardView>

        <!-- Score Board - Colorful and Exciting -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            android:elevation="12dp"
            app:cardBackgroundColor="#F7DC6F"
            app:cardCornerRadius="25dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="â­ MY SUPER SCORE â­"
                    android:textColor="#E74C3C"
                    android:textSize="22sp"
                    android:textStyle="bold"
                    android:gravity="center"
                    android:fontFamily="sans-serif-medium"
                    android:shadowColor="#000000"
                    android:shadowDx="1"
                    android:shadowDy="1"
                    android:shadowRadius="2"
                    android:layout_marginBottom="12dp" />

                <!-- Achievement Badge -->
                <TextView
                    android:id="@+id/tvAchievementBadge"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text=""
                    android:textColor="#E74C3C"
                    android:textSize="14sp"
                    android:textStyle="bold"
                    android:gravity="center"
                    android:layout_marginBottom="8dp"
                    android:visibility="gone"
                    android:fontFamily="sans-serif-medium" />

                <!-- Counter Grid - BIG and COLORFUL -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:weightSum="4">

                    <!-- Left Counter -->
                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical"
                        android:gravity="center"
                        android:padding="12dp"
                        android:background="#E74C3C"
                        android:layout_margin="3dp">
                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="â¬…ï¸"
                            android:textSize="32sp" />
                        <TextView
                            android:id="@+id/tvJumpLeft"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="0"
                            android:textColor="#FFFFFF"
                            android:textSize="28sp"
                            android:textStyle="bold"
                            android:fontFamily="sans-serif-medium"
                            android:shadowColor="#000000"
                            android:shadowDx="1"
                            android:shadowDy="1"
                            android:shadowRadius="2" />
                    </LinearLayout>

                    <!-- Right Counter -->
                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical"
                        android:gravity="center"
                        android:padding="12dp"
                        android:background="#3498DB"
                        android:layout_margin="3dp">
                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="âž¡ï¸"
                            android:textSize="32sp" />
                        <TextView
                            android:id="@+id/tvJumpRight"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="0"
                            android:textColor="#FFFFFF"
                            android:textSize="28sp"
                            android:textStyle="bold"
                            android:fontFamily="sans-serif-medium"
                            android:shadowColor="#000000"
                            android:shadowDx="1"
                            android:shadowDy="1"
                            android:shadowRadius="2" />
                    </LinearLayout>

                    <!-- Up Counter -->
                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical"
                        android:gravity="center"
                        android:padding="12dp"
                        android:background="#2ECC71"
                        android:layout_margin="3dp">
                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="â¬†ï¸"
                            android:textSize="32sp" />
                        <TextView
                            android:id="@+id/tvJumpMiddle"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="0"
                            android:textColor="#FFFFFF"
                            android:textSize="28sp"
                            android:textStyle="bold"
                            android:fontFamily="sans-serif-medium"
                            android:shadowColor="#000000"
                            android:shadowDx="1"
                            android:shadowDy="1"
                            android:shadowRadius="2" />
                    </LinearLayout>

                    <!-- Back Counter -->
                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical"
                        android:gravity="center"
                        android:padding="12dp"
                        android:background="#9B59B6"
                        android:layout_margin="3dp">
                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="â¬‡ï¸"
                            android:textSize="32sp" />
                        <TextView
                            android:id="@+id/tvJumpBack"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="0"
                            android:textColor="#FFFFFF"
                            android:textSize="28sp"
                            android:textStyle="bold"
                            android:fontFamily="sans-serif-medium"
                            android:shadowColor="#000000"
                            android:shadowDx="1"
                            android:shadowDy="1"
                            android:shadowRadius="2" />
                    </LinearLayout>
                </LinearLayout>
            </LinearLayout>
        </androidx.cardview.widget.CardView>

        <!-- Movement Selection - Big Colorful Arrows -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            android:elevation="12dp"
            app:cardBackgroundColor="#FF6B35"
            app:cardCornerRadius="25dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ðŸŽ¯ PICK YOUR MOVE! ðŸŽ¯"
                    android:textColor="#FFFFFF"
                    android:textSize="22sp"
                    android:textStyle="bold"
                    android:gravity="center"
                    android:fontFamily="sans-serif-medium"
                    android:shadowColor="#000000"
                    android:shadowDx="2"
                    android:shadowDy="2"
                    android:shadowRadius="3"
                    android:layout_marginBottom="12dp" />

                <!-- Giant Arrow Buttons -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:weightSum="4"
                    android:layout_marginBottom="8dp">

                    <Button
                        android:id="@+id/btnJumpLeftSelect"
                        android:layout_width="0dp"
                        android:layout_height="90dp"
                        android:layout_weight="1"
                        android:layout_margin="4dp"
                        android:text="â¬…ï¸"
                        android:textSize="42sp"
                        android:background="#E74C3C"
                        android:textColor="@android:color/white"
                        android:elevation="8dp" />

                    <Button
                        android:id="@+id/btnJumpRightSelect"
                        android:layout_width="0dp"
                        android:layout_height="90dp"
                        android:layout_weight="1"
                        android:layout_margin="4dp"
                        android:text="âž¡ï¸"
                        android:textSize="42sp"
                        android:background="#3498DB"
                        android:textColor="@android:color/white"
                        android:elevation="8dp" />

                    <Button
                        android:id="@+id/btnJumpUpSelect"
                        android:layout_width="0dp"
                        android:layout_height="90dp"
                        android:layout_weight="1"
                        android:layout_margin="4dp"
                        android:text="â¬†ï¸"
                        android:textSize="42sp"
                        android:background="#2ECC71"
                        android:textColor="@android:color/white"
                        android:elevation="8dp" />

                    <Button
                        android:id="@+id/btnJumpFrontSelect"
                        android:layout_width="0dp"
                        android:layout_height="90dp"
                        android:layout_weight="1"
                        android:layout_margin="4dp"
                        android:text="â¬‡ï¸"
                        android:textSize="42sp"
                        android:background="#9B59B6"
                        android:textColor="@android:color/white"
                        android:elevation="8dp" />
                </LinearLayout>

                <!-- Fun Labels -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:weightSum="4"
                    android:gravity="center">

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="LEFT"
                        android:textColor="#FFFFFF"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:gravity="center"
                        android:fontFamily="sans-serif-medium"
                        android:shadowColor="#000000"
                        android:shadowDx="1"
                        android:shadowDy="1"
                        android:shadowRadius="2" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="RIGHT"
                        android:textColor="#FFFFFF"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:gravity="center"
                        android:fontFamily="sans-serif-medium"
                        android:shadowColor="#000000"
                        android:shadowDx="1"
                        android:shadowDy="1"
                        android:shadowRadius="2" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="UP"
                        android:textColor="#FFFFFF"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:gravity="center"
                        android:fontFamily="sans-serif-medium"
                        android:shadowColor="#000000"
                        android:shadowDx="1"
                        android:shadowDy="1"
                        android:shadowRadius="2" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="DOWN"
                        android:textColor="#FFFFFF"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:gravity="center"
                        android:fontFamily="sans-serif-medium"
                        android:shadowColor="#000000"
                        android:shadowDx="1"
                        android:shadowDy="1"
                        android:shadowRadius="2" />
                </LinearLayout>
            </LinearLayout>
        </androidx.cardview.widget.CardView>

        <!-- Rainbow LED Colors Section -->
        <androidx.cardview.widget.CardView
            android:id="@+id/ledOptions"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            android:elevation="12dp"
            app:cardBackgroundColor="#4ECDC4"
            app:cardCornerRadius="25dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="ðŸŒˆ MAGIC COLORS! ðŸŒˆ"
                    android:textColor="#FFFFFF"
                    android:textSize="22sp"
                    android:textStyle="bold"
                    android:gravity="center"
                    android:fontFamily="sans-serif-medium"
                    android:shadowColor="#000000"
                    android:shadowDx="2"
                    android:shadowDy="2"
                    android:shadowRadius="3"
                    android:layout_marginBottom="12dp" />

                <!-- First Color Row -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:weightSum="4"
                    android:layout_marginBottom="8dp">

                    <Button
                        android:id="@+id/btnWhite"
                        android:layout_width="0dp"
                        android:layout_height="75dp"
                        android:layout_weight="1"
                        android:layout_margin="4dp"
                        android:text="âšª"
                        android:textSize="38sp"
                        android:background="#FFFFFF"
                        android:elevation="6dp" />

                    <Button
                        android:id="@+id/btnRed"
                        android:layout_width="0dp"
                        android:layout_height="75dp"
                        android:layout_weight="1"
                        android:layout_margin="4dp"
                        android:text="ðŸ”´"
                        android:textSize="38sp"
                        android:background="#E74C3C"
                        android:elevation="6dp" />

                    <Button
                        android:id="@+id/btnGreen"
                        android:layout_width="0dp"
                        android:layout_height="75dp"
                        android:layout_weight="1"
                        android:layout_margin="4dp"
                        android:text="ðŸŸ¢"
                        android:textSize="38sp"
                        android:background="#2ECC71"
                        android:elevation="6dp" />

                    <Button
                        android:id="@+id/btnBlue"
                        android:layout_width="0dp"
                        android:layout_height="75dp"
                        android:layout_weight="1"
                        android:layout_margin="4dp"
                        android:text="ðŸ”µ"
                        android:textSize="38sp"
                        android:background="#3498DB"
                        android:elevation="6dp" />
                </LinearLayout>

                <!-- Second Color Row -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:weightSum="4"
                    android:layout_marginBottom="12dp">

                    <Button
                        android:id="@+id/btnTopaz"
                        android:layout_width="0dp"
                        android:layout_height="75dp"
                        android:layout_weight="1"
                        android:layout_margin="4dp"
                        android:text="ðŸŸ¡"
                        android:textSize="38sp"
                        android:background="#F7DC6F"
                        android:elevation="6dp" />

                    <Button
                        android:id="@+id/btnLilac"
                        android:layout_width="0dp"
                        android:layout_height="75dp"
                        android:layout_weight="1"
                        android:layout_margin="4dp"
                        android:text="ðŸŸ£"
                        android:textSize="38sp"
                        android:background="#9B59B6"
                        android:elevation="6dp" />

                    <Button
                        android:id="@+id/btnRainbow"
                        android:layout_width="0dp"
                        android:layout_height="75dp"
                        android:layout_weight="1"
                        android:layout_margin="4dp"
                        android:text="ðŸŒˆ"
                        android:textSize="38sp"
                        android:background="@drawable/modern_gradient_background"
                        android:elevation="6dp" />

                    <Button
                        android:id="@+id/btnLEDOff"
                        android:layout_width="0dp"
                        android:layout_height="75dp"
                        android:layout_weight="1"
                        android:layout_margin="4dp"
                        android:text="âš«"
                        android:textSize="38sp"
                        android:background="#34495E"
                        android:elevation="6dp" />
                </LinearLayout>

                <!-- GIANT Party Mode Button -->
                <Button
                    android:id="@+id/btnSeizureMode"
                    android:layout_width="match_parent"
                    android:layout_height="70dp"
                    android:text="ðŸŽ‰ PARTY MODE! ðŸŽ‰"
                    android:textSize="20sp"
                    android:textStyle="bold"
                    android:textColor="@android:color/white"
                    android:textAllCaps="false"
                    android:fontFamily="sans-serif-medium"
                    android:background="#FF6B35"
                    android:shadowColor="#000000"
                    android:shadowDx="2"
                    android:shadowDy="2"
                    android:shadowRadius="3"
                    android:elevation="8dp" />
            </LinearLayout>
        </androidx.cardview.widget.CardView>

        <!-- Hidden Compatibility Elements -->
        <TextView
            android:id="@+id/receive_text"
            android:layout_width="0dp"
            android:layout_height="0dp"
            android:visibility="gone" />

        <TextView
            android:id="@+id/tvCalibrationPrompt"
            android:layout_width="0dp"
            android:layout_height="0dp"
            android:visibility="gone" />

    </LinearLayout>
</ScrollView>